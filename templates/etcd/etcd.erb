ETCD_NAME="<%= @hostname %>"
ETCD_DATA_DIR="<%= @etcd_data_dir %>"
ETCD_LISTEN_PEER_URLS="https://<%= @etcd_ip %>:2380"
ETCD_LISTEN_CLIENT_URLS="https://<%= @etcd_ip %>:2379"
<% if @etcd_discovery_srv -%>
ETCD_DISCOVERY_SRV="<%= @etcd_discovery_srv %>"
ETCD_INITIAL_ADVERTISE_PEER_URLS="https://<%= @etcd_hostname %>:2380"
<% else -%>
ETCD_INITIAL_ADVERTISE_PEER_URLS="https://<%= @etcd_ip %>:2380"
ETCD_INITIAL_CLUSTER="<%= @etcd_initial_cluster %>"
<% end -%>
ETCD_INITIAL_CLUSTER_STATE="new"
ETCD_INITIAL_CLUSTER_TOKEN="my-etcd-token"
<% if @etcd_version >= "3.3.0" -%>
ETCD_AUTO_COMPACTION_MODE="<%= @etcd_compaction_method %>"
<% end -%>
ETCD_AUTO_COMPACTION_RETENTION="<%= @etcd_compaction_retention %>"
ETCD_MAX_WALS="<%= @etcd_max_wals %>"
ETCD_MAX_REQUEST_BYTES="<%= @etcd_max_request_bytes %>"
<%- if @etcd_listen_metric_urls -%>
ETCD_LISTEN_METRICS_URLS="<%= @etcd_listen_metric_urls %>"
<%- end -%>
ETCD_ADVERTISE_CLIENT_URLS="https://<%= @etcd_ip %>:2379"
ETCD_CERT_FILE="/etc/kubernetes/pki/etcd/server.crt"
ETCD_KEY_FILE="/etc/kubernetes/pki/etcd/server.key"
ETCD_CLIENT_CERT_AUTH=1
ETCD_TRUSTED_CA_FILE="/etc/kubernetes/pki/etcd/ca.crt"
ETCD_PEER_CERT_FILE="/etc/kubernetes/pki/etcd/peer.crt"
ETCD_PEER_KEY_FILE="/etc/kubernetes/pki/etcd/peer.key"
ETCD_PEER_CLIENT_CERT_AUTH=1
ETCD_PEER_TRUSTED_CA_FILE="/etc/kubernetes/pki/etcd/ca.crt"
